{% extends "base.html" %}

{% block head %}
{{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
{% endblock head %}

{% block content %}
    <div class="content-wrapper">
        <section id="main-form">
            <div id="form-wrapper">
                <div class="container">
                    <h1>User Login</h1>
                    {% if messages.errors %}
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <strong>The following error(s) occured:</strong>
                        <ul>
                            {% for error in messages.errors %}
                            <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                    {% if messages.valid_user %}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <div><strong>Successful registration!</strong></div>
                        <span>Please log in to reach our content! Happy browsing!</span>
                    </div>
                    {% endif %}
                    <form action="{{ url_for('login') }}" method="POST">
                        <div class="form-group row">
                            <div class="col-8">
                                <input id="username" class="form-control form-control-lg" name="username" type="text" placeholder="username" {% if request.form.username %}value="{{ request.form.username }}"{% endif %} required autofocus>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-8">
                                <input id="password" class="form-control form-control-lg" name="password" type="password" placeholder="password" required>
                            </div>
                        </div>
                        <div class="col-8">
                            <button id="submit-button" type="submit" class="btn btn-secondary btn-lg">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </div>
{% endblock %}
